# from bht.bht_generation import BHTGenerator
from bht.bht_common import *
import statistics
import json

TEST_SCRIPT = False

verses_and_scores = [
("2 Corinthians 1:2","2.65836553402438","1.6773988501807600"),
("Mark 2:24","2.1568646149033800","1.2010578727974400"),
("John 4:54","2.334661575832920","1.39564776549276"),
("Mark 10:31","2.24142923230409","1.320803265965920"),
("Matthew 22:31","2.7007655387247000","1.795191301153730"),
("John 8:10","2.315968848385940","1.42000086858372"),
("Luke 7:10","2.084758081816610","1.2226591826982100"),
("Luke 23:52","2.417793346102440","1.7151447485535900"),
("Matthew 27:62","2.4424772735497800","1.7399303784917300"),
("Matthew 26:28","2.464266513786090","1.7657135739057000"),
("Mark 1:23","2.255659960377070","1.5591451787067100"),
("Mark 1:32","2.50475113721864","1.814808525571530"),
("Luke 22:34","2.258674249162560","1.6038607591498300"),
("Acts 26:17","2.562711911694090","1.914683617651250"),
("Acts 20:17","2.4950646471251200","1.8648499714021100"),
("Romans 14:2","2.399681998099520","1.7862155520768100"),
("2 Timothy 4:12","2.4935880305807400","1.8858667101221300"),
("Luke 23:6","2.160075550949460","1.5864967393734700"),
("John 6:8","2.120683070180270","1.550964655526880"),
("James 1:7","2.4036728610734600","1.8627995267602500"),
("Acts 10:1","2.12863089542213","1.5902602923955300"),
("1 Corinthians 14:38","2.334328742729850","1.8042070662324600"),
("Luke 15:30","2.167750426207120","1.6549098055524800"),
("Acts 23:16","2.1647962454827000","1.6521619807190200"),
("1 Peter 3:2","2.2432204014845900","1.7309497926334700"),
("Acts 21:24","2.3707464862839500","1.8607772339989200"),
("Luke 9:26","2.4789472127422300","1.9691572308505500"),
("Luke 12:10","2.2449127406565000","1.739885115482050"),
("Colossians 4:9","2.3798041385274200","1.8749326497886600"),
("Luke 1:62","2.3807408733306400","1.8871243564256800"),
("Matthew 27:65","2.144342792826690","1.6527990798201400"),
("John 4:27","2.21747633768304","1.7471811551244900"),
("Romans 9:27","2.4400402902818100","1.9729158619565900"),
("Acts 28:5","2.2169711744752000","1.7502874630608300"),
("John 18:31","2.4015015398180500","1.9389432354957400"),
("Acts 14:13","2.3858051810502","1.9237578707318400"),
("Mark 6:29","2.1284878998517300","1.668280784537380"),
("Acts 5:37","2.066883628634740","1.607125185789770"),
("Luke 19:3","2.353593493303030","1.8968714268543400"),
("Philemon 10","2.0422369239358500","1.5858791630586900"),
("Mark 11:7","2.270833110122950","1.81619822007284"),
("Luke 22:50","2.060735192475550","1.6107743756340500"),
("Matthew 17:12","2.3552158360453100","1.9065873000048200"),
("Luke 17:37","2.02484983688381","1.5786554982356200"),
("Matthew 4:2","2.1144413598475300","1.6693970591213800"),
("Hebrews 4:4","2.43547967730927","1.990645167434150"),
("Hebrews 9:6","2.122698614248210","1.6817236795759400"),
("Hebrews 9:27","2.376181707357040","1.9454215114765400"),
("1 Corinthians 6:4","2.42700363250914","1.9978930952464400"),
("Luke 18:16","2.0138003633503400","1.5851557652538300"),
("1 Corinthians 16:19","2.27375671027316","1.8466680732118800"),
("Acts 16:17","2.1302687341544000","1.7071611643120000"),
("Luke 15:18","2.0537378039472500","1.6319692273189700"),
("Acts 11:15","2.0659160754065800","1.6459164056802300"),
("Acts 27:35","2.225702640688200","1.8064166761637700"),
("Matthew 11:10","2.1025250336441100","1.683603644184250"),
("Luke 1:12","2.0923948182615200","1.6775388969335900"),
("Hebrews 6:15","2.352026893217370","1.937315743135990"),
("John 19:36","2.341223987015880","1.9281706651626800"),
("2 Timothy 4:9","2.0706919732845500","1.6586309178547300"),
("Matthew 15:19","2.0613756095195400","1.6515637648118500"),
("Matthew 27:6","2.294662468455620","1.8860420052976200"),
("Luke 18:15","2.0802952192247800","1.6717588168428000"),
("Luke 11:29","2.085293388939150","1.678514567821430"),
("2 Peter 2:22","2.235512906010610","1.8329121677103900"),
("Luke 20:41","2.275404029616190","1.8728311166129900"),
("Luke 6:24","2.3952846244703800","1.9928123917846200"),
("1 Timothy 2:1","2.27796256340838","1.8774347757195400"),
("Revelation 9:8","2.2669601373580400","1.8693393587539300"),
("Matthew 11:13","2.0448625348485100","1.6501728871913300"),
("Luke 21:1","2.059880090784670","1.6654425917686000"),
("Acts 16:12","2.248489728764190","1.8550930853144400"),
("Romans 15:33","2.0014478242032600","1.6082418462140800"),
("Matthew 20:16","2.03408301193072","1.640976830506560"),
("Hebrews 10:11","2.2028469626590800","1.811704274226770"),
("Matthew 24:30","2.132528493690180","1.7414570419404700"),
("John 6:62","2.142031517044000","1.752599834284170"),
("Acts 27:7","2.2915942817036400","1.9055894201710800"),
("1 Corinthians 7:1","2.3005040112372300","1.9184616977486200"),
("Luke 9:36","2.063257539402020","1.6833597374602500"),
("2 Corinthians 2:1","2.2889223619857400","1.9099349108657300"),
("John 15:24","2.156058327921420","1.777209755355000"),
("Ephesians 1:22","2.3640615505936900","1.9856527552115700"),
("John 12:23","2.114357448280200","1.7371071636514100"),
("Hebrews 8:5","2.2178601053652700","1.8410430480883700"),
("Luke 18:35","2.041145373212890","1.664346841167380"),
("Philippians 4:2","2.117902781511990","1.7420955192846000"),
("Matthew 2:17","2.0187060540944500","1.6430929508955000"),
("John 4:4","2.2834504913529300","1.9079402074420000"),
("Galatians 5:12","2.0728183494480100","1.698262609012460"),
("Luke 23:56","2.1219190813294700","1.7475305264488200"),
("2 Corinthians 8:18","2.2575844966585200","1.8855746497150900"),
("Matthew 13:18","2.068003466682440","1.6986610164002000"),
("Matthew 12:35","2.200540845861020","1.8340350193824900"),
("2 Peter 2:20","2.087676977427320","1.7212697382381600"),
("Mark 15:23","2.155776749809520","1.789775945869620"),
("2 Peter 2:16","2.1391651331229700","1.7749408138567300"),
("Romans 1:22","2.107348027229760","1.7432161800531400"),
("Mark 2:10","2.2936315614007000","1.9301387852655000"),
("John 1:33","2.3485417772026700","1.9853152674186800"),
("Matthew 26:52","2.1913168720441400","1.8320275785017900"),
("Matthew 28:1","2.1686683317647300","1.817278007083020"),
("Acts 24:5","2.045107498451230","1.6939667803140400"),
("Matthew 6:2","2.1256098337969600","1.7750617182826900"),
("Acts 13:13","2.2639320240937100","1.9148481850674600"),
("1 Peter 1:11","2.1905422981461200","1.8414968020110300"),
("2 Corinthians 5:1","2.1804109543192200","1.8326947469271700"),
("Acts 13:27","2.1437850461173800","1.7971899199621900"),
("Luke 19:29","2.020387277313670","1.6738903165040500"),
("Ephesians 1:2","2.017674243315470","1.671987088222180"),
("John 6:61","2.043290553883810","1.6983898903144700"),
("Philippians 4:14","2.1771426304265300","1.835492315295620"),
("Romans 14:15","2.168891779942010","1.8277925453500400"),
("John 18:29","2.0408456113051800","1.7001949961838700"),
("Titus 3:12","2.0779331617618500","1.737408322263970"),
("Matthew 14:32","2.1048036827079100","1.7646618547381100"),
("1 Thessalonians 5:27","2.158913682541960","1.8194261573507900"),
("1 Corinthians 4:14","2.0066464665341100","1.6691133125124300"),
("Luke 23:38","2.0486235771517400","1.7135216332767600"),
("John 10:19","2.079688551160560","1.7452658108821700"),
("1 Corinthians 9:3","2.0229074793156200","1.6905685020911500"),
("Matthew 27:47","2.080551927955190","1.7490042363569500"),
("Mark 8:29","2.150518616826130","1.8194674924772200"),
("James 4:5","2.2883010331791200","1.9573528129339700"),
("1 Corinthians 14:29","2.3051146335825100","1.9762078930140800"),
("Hebrews 2:1","2.18218890463653","1.8539509131464400"),
("Acts 5:15","2.0330115637897400","1.7094290967963200"),
("Matthew 18:20","2.1002898318459000","1.7772731654101200"),
("Acts 25:8","2.020707001459050","1.6996730673572700"),
("2 Corinthians 6:1","2.220067001051040","1.899558274229830"),
("John 5:18","2.117516584498320","1.7973133264756600"),
("Luke 8:47","2.005388591702360","1.685747303701330"),
("Hebrews 5:3","2.2988268132283100","1.9814264097210500"),
("Mark 3:15","2.1737962842962300","1.8580875181211"),
("1 Timothy 5:15","2.067491825838700","1.752156744976980"),
("Acts 20:6","2.1978847294197000","1.8855395626297900"),
("Matthew 5:29","2.1148174659892500","1.8032175063803200"),
("Luke 1:32","2.228007123799000","1.916557088665660"),
("Mark 15:7","2.1192132600020300","1.8084939480613800"),
("Mark 12:10","2.1423179691047600","1.834189763752450"),
("Matthew 22:19","2.1735580745341600","1.8658868673504700"),
("Acts 21:30","2.205151123436790","1.8984774374802200"),
("Hebrews 6:12","2.2871204671220300","1.9804534172326700"),
("John 10:2","2.24747819324268","1.9408997813991000"),
("Romans 1:15","2.095721325816560","1.7908154149426900"),
("Luke 18:2","2.0615200239214400","1.7566533759856700"),
("Acts 12:25","2.0262816595392100","1.7221514414620300"),
("Hebrews 10:16","2.0672053900827400","1.764367658137000"),
("John 10:16","2.2248345060832100","1.9225354709783000"),
("Luke 2:26","2.0851113299415800","1.7839512326820600"),
("Acts 13:43","2.049162575563900","1.7483500323346300"),
("2 Timothy 2:20","2.1890999044790800","1.8906119276601800"),
("Romans 2:19","2.1964657942953900","1.8989867903195600"),
("Acts 21:40","2.1283160975319900","1.8325859262063300"),
("Matthew 6:28","2.1565982541269200","1.8613397176285400"),
("Acts 20:16","2.254875452784960","1.959957472680770"),
("2 Corinthians 6:13","2.2133734378846500","1.921244164195310"),
("John 9:8","2.2257035266144000","1.9338481877437100"),
("Matthew 20:2","2.0675387724772200","1.7757638556864600"),
("Acts 4:21","2.1878638614264900","1.8983391980529800"),
("John 6:53","2.2651125405296500","1.9757427414050100"),
("Titus 2:3","2.0113104665421900","1.7229982121254800"),
("Matthew 12:26","2.193545298288760","1.9061067573723300"),
("Luke 10:41","2.175791030600000","1.8886822587636900"),
("Luke 12:29","2.1965309917597600","1.9094349168730100"),
("2 Peter 2:14","2.0002297140800700","1.7167296225627200"),
("Ephesians 2:9","2.0405097339462800","1.7572353037665300"),
("Hebrews 9:4","2.2499552512571600","1.9671664701079100"),
("Luke 6:12","2.1186023781292600","1.8358802382753500"),
("Acts 20:8","2.2136073935244600","1.9350539012607000"),
("John 7:27","2.230672077759360","1.952188041975870"),
("John 16:25","2.182264724850890","1.90399246617753"),
("John 13:33","2.0617407779313100","1.7838916463992600"),
("Luke 24:18","2.2020089381345300","1.924454869262430"),
("1 Timothy 3:11","2.1953850968212500","1.9178548742206100"),
("1 Corinthians 15:49","2.2165397643537500","1.9391721852757200"),
("Hebrews 7:2","2.108690239936600","1.8320516726382600"),
("John 6:36","2.167647209656880","1.8911408050525000"),
("Luke 10:38","2.009964158856090","1.7380825999764600"),
("Romans 4:21","2.24682724613228","1.9764959097222500"),
("1 Peter 2:12","2.0413127795224400","1.7716458835491000"),
("1 Corinthians 9:16","2.1240683298474600","1.8552703539506400"),
("John 8:40","2.0503883446992200","1.783188579082680"),
("Luke 14:23","2.2306220472242200","1.9638385098611000"),
("Mark 8:14","2.0275414333923800","1.7619322520820100"),
("Luke 23:37","2.0495278642648500","1.7859543300884300"),
("Matthew 27:3","2.2228754910221900","1.9617760862341600"),
("Luke 17:22","2.104400354529130","1.8461396132757900"),
("Acts 23:35","2.025834221839930","1.7696880371507400"),
("Mark 14:8","2.07698907470564","1.8213298846409000"),
("1 Corinthians 7:10","2.16283218133072","1.9071768928123800"),
("Acts 15:38","2.2043361335795500","1.949967483735770"),
("1 Corinthians 12:31","2.2030663327751700","1.948767308877710"),
("Galatians 1:24","2.1039034668918800","1.8496209393853200"),
("2 Peter 3:4","2.090812768495220","1.8368896535518600"),
("Hebrews 6:14","2.17183769449428","1.918371361456040"),
("John 11:28","2.077535650597840","1.825028047455470"),
("John 18:2","2.0631935965881100","1.8124118335395800"),
("John 1:48","2.204876573081650","1.95548600380596"),
("Luke 11:36","2.2176852195700800","1.9685648330474500"),
("Luke 11:51","2.087613213620140","1.8405734613235900"),
("Mark 4:36","2.087341217221310","1.8404478681234500"),
("John 12:42","2.124309182676050","1.879293649469180"),
("1 Corinthians 9:22","2.0432181135856800","1.7982576136952600"),
("Matthew 7:13","2.0991659321273100","1.8563039319419600"),
("Luke 5:3","2.0445802749758500","1.8020021695942800"),
("Hebrews 1:13","2.218404611158420","1.9773056897595300"),
("Romans 8:32","2.164360854996280","1.9237312366369600"),
("Luke 13:15","2.068660135619220","1.8286947131731000"),
("Hebrews 13:9","2.028363859082490","1.7884991806544000"),
("Matthew 27:9","2.0980413203193800","1.8583877482130900"),
("John 5:43","2.0640042659240100","1.825831471482640"),
("Hebrews 9:26","2.1527574727123700","1.9176829392287200"),
("John 7:18","2.1245924020066600","1.8899163910289600"),
("Matthew 14:30","2.0886324831962700","1.8540213258739300"),
("Romans 15:19","2.0540259452300200","1.8197179051145900"),
("1 Corinthians 7:36","2.2018980868587700","1.967963537029130"),
("James 3:12","2.130702154484510","1.8980775215867400"),
("1 Timothy 5:6","2.2246005906286800","1.9929039931342800"),
("James 3:7","2.2210626221103500","1.9898337715447100"),
("Galatians 4:8","2.1901612612717500","1.959042392508930"),
("Ephesians 4:21","2.124161660081440","1.8932857338165000"),
("John 6:27","2.02887978962951","1.7997904096922700"),
("Hebrews 12:19","2.0112814765832800","1.7830171887619400"),
("1 Timothy 6:3","2.0300589471106000","1.8018803936231600"),
("2 Peter 3:16","2.1121810670577900","1.8846004846878900"),
("1 Timothy 1:3","2.0261518802114100","1.8006035401249300"),
("Luke 2:27","2.041170755127380","1.8157244286659400"),
("2 Thessalonians 1:12","2.181416121819570","1.957069086377470"),
("John 14:18","2.110786088395920","1.8864926728085900"),
("Romans 12:3","2.1014360017078900","1.8777657172959800"),
("Acts 27:39","2.046994248523080","1.82395107771746"),
("Acts 5:9","2.038349813763720","1.8162924251821200"),
("Matthew 8:17","2.138752382459240","1.9168422372082600"),
("Matthew 9:9","2.0338042274620400","1.8126904107818900"),
("1 Corinthians 8:10","2.0406993945236300","1.8197856222441700"),
("Matthew 16:28","2.203146016005420","1.982309722760350"),
("Philemon 9","2.1092582101120100","1.888470934185520"),
("Luke 4:13","2.046335064543660","1.826012861396040"),
("Titus 1:9","2.18381528374635","1.9642412902787400"),
("Luke 14:12","2.085021418492470","1.8658302902734500"),
("Philemon 23","2.010098533445460","1.7910729024046400"),
("Acts 15:16","2.198331371972080","1.9804019872013900"),
("Matthew 26:30","2.0167572127637300","1.8022851356746300"),
("Acts 27:14","2.074444053513750","1.8630723866229500"),
("Matthew 4:11","2.153300219485630","1.94289528698512"),
("1 Timothy 1:18","2.161772658425960","1.9515479663892900"),
("Acts 16:4","2.064715073336210","1.8546077447056000"),
("John 7:30","2.0525591430071700","1.8426674448132600"),
("1 Corinthians 12:1","2.029071209251750","1.819496465301070"),
("Romans 10:1","2.182743078250750","1.9732377284268"),
("2 Corinthians 9:13","2.123551540159360","1.9143145811151600"),
("Philemon 19","2.0969386519901500","1.8882170528358300"),
("2 Thessalonians 3:18","2.0110978405191300","1.8041638960286500"),
("Revelation 22:9","2.100220747146130","1.8959534013193300"),
("Acts 11:1","2.0190675507472900","1.8154505052488400"),
("Luke 3:1","2.086456978064920","1.8839520394770200"),
("Acts 22:13","2.0568640492301700","1.8545439911553100"),
("Matthew 14:33","2.1099161883300900","1.9079314553441400"),
("Matthew 10:34","2.1095426260780600","1.9081039338858900"),
("Matthew 12:18","2.187298602706160","1.986067110838230"),
("Ephesians 2:15","2.15526385352576","1.9551481016315100"),
("John 5:7","2.084112946143070","1.8840523338265800"),
("Matthew 26:38","2.0033933848653500","1.8035457752360200"),
("Acts 28:2","2.0584495666793700","1.8588442497540300"),
("Romans 15:18","2.0490804699703400","1.8495147358351200"),
("Acts 3:14","2.0852784179532500","1.8880564663210500"),
("Acts 11:2","2.000184327386450","1.8035778608142600"),
("Romans 1:26","2.011818368213780","1.8155903603712200"),
("Acts 23:12","2.0438583763779300","1.8476910046936000"),
("Luke 23:26","2.1021935846315900","1.906048496113570"),
("Ephesians 2:6","2.073994254306","1.8799566817937600"),
("Titus 3:8","2.0865071200304000","1.892631593367910"),
("John 15:5","2.07346778440414","1.8798542218627000"),
("Luke 9:34","2.1719344494279600","1.9788673228295600"),
("Luke 23:41","2.0117801112323600","1.8191163836015"),
("John 17:10","2.044748624286510","1.852735291246400"),
("John 3:1","2.117992842817060","1.9263471117059600"),
("Hebrews 11:25","2.0403371003119","1.848977668912670"),
("Acts 3:21","2.1535739166339300","1.962387896166150"),
("Acts 22:2","2.040199811420580","1.849062527163690"),
("1 Corinthians 15:42","2.0164221979945600","1.8258266642008700"),
("Luke 3:14","2.1545742597233200","1.9643582811338900"),
("John 20:28","2.15619921460572","1.9663097085437700"),
("1 Peter 1:12","2.0411693635527900","1.8532314204834900"),
("Matthew 28:3","2.115772916619620","1.9279068343038900"),
("Matthew 5:17","2.1626826031023500","1.9748901746500000"),
("Luke 1:2","2.031829748900250","1.8440681866482900"),
("John 11:16","2.1678635137171100","1.9801040147272800"),
("John 1:10","2.142229868107430","1.9547667294424800"),
("Hebrews 13:1","2.019052744280130","1.8323125061803700"),
("John 6:71","2.061503304913580","1.874798944004180"),
("1 John 5:21","2.1354087778455700","1.949759170526800"),
("John 12:27","2.0986287777721000","1.9141588325962300"),
("Revelation 4:2","2.163246816963440","1.9798359635932000"),
("Acts 6:4","2.000092487890410","1.8168367358009000"),
("John 8:17","2.177967241017540","1.9950232391209000"),
("John 8:5","2.015824272409360","1.8346714660156900"),
("John 2:13","2.1455444632666900","1.9653939270327400"),
("1 Corinthians 13:4","2.015420948559330","1.8364322167315400"),
("Acts 15:20","2.0880487070995700","1.90952099477047"),
("Acts 2:33","2.0707331759614000","1.8925413945509000"),
("Luke 22:17","2.055024482505130","1.8772984909274100"),
("Mark 12:26","2.1621933916585100","1.9857563621815600"),
("Mark 6:14","2.0826039353484400","1.9067620846575300"),
("2 Corinthians 3:11","2.054878126977720","1.8831320987913900"),
("John 8:22","2.0179081393446100","1.8489161089053700"),
("Philippians 1:23","2.047432098821970","1.878664491341640"),
("James 1:2","2.0541328906573600","1.8862978114288700"),
("Luke 11:53","2.1488689954956200","1.9813268005966100"),
("John 19:15","2.021568358317540","1.8540803498742600"),
("Romans 14:10","2.147603473857220","1.9808501509952800"),
("Luke 12:16","2.0110220689697500","1.84477392758953"),
("Matthew 1:18","2.095433563299500","1.9296379868234700"),
("Titus 2:13","2.126216389035250","1.9611788212317100"),
("Matthew 11:3","2.1460227855313600","1.9814270099415800"),
("John 13:8","2.0516952627706700","1.8873730621650900"),
("John 18:5","2.0473253212476600","1.8837406656815100"),
("1 Timothy 2:7","2.1367215282059700","1.9738115609384100"),
("2 Corinthians 1:23","2.0322614769406400","1.8697520647011500"),
("Matthew 24:26","2.0000474935164100","1.8384863191016800"),
("Matthew 24:22","2.048809750522810","1.8886132065695900"),
("John 7:20","2.063136214484380","1.9034056681685400"),
("James 1:27","2.0980900160809700","1.9386639970905300"),
("Hebrews 12:11","2.136002367184200","1.9768049024885600"),
("2 Corinthians 8:19","2.0629648018398300","1.904147903557190"),
("James 3:9","2.0995566410447700","1.9414018967131100"),
("Matthew 5:22","2.0139930143463100","1.8596353018588300"),
("2 Timothy 4:19","2.037136213481090","1.8836459661921900"),
("Colossians 1:7","2.0904149129437400","1.9370460599566000"),
("Ephesians 2:22","2.0330531792452100","1.8803806427502300"),
("Acts 24:18","2.1150816305434200","1.962435355794390"),
("1 Corinthians 1:16","2.122430313469670","1.970255563776500"),
("1 Corinthians 14:34","2.0464651247418700","1.8948038355957300"),
("Hebrews 6:6","2.059746360194670","1.9082700385369100"),
("2 Corinthians 11:11","2.031038582754030","1.8807086261670500"),
("Acts 14:17","2.0962748214921700","1.9463680266993800"),
("Acts 8:23","2.0697436866358000","1.920164722836550"),
("Matthew 26:17","2.1071909622425700","1.9579666853299900"),
("Hebrews 13:7","2.0876300548737000","1.9388913427569700"),
("Luke 22:31","2.1036567750598900","1.955070143192430"),
("Matthew 3:14","2.0375812773984800","1.8891523612241700"),
("2 Corinthians 10:15","2.0537228332811000","1.9053006807992500"),
("Acts 13:16","2.1062434272325500","1.9580570040125500"),
("1 Thessalonians 5:2","2.130409212289370","1.983165291676340"),
("Acts 17:32","2.0961265860817400","1.9490321815508800"),
("2 Corinthians 1:19","2.0913793526946000","1.9450312884363700"),
("Acts 21:25","2.139587042026930","1.9952171695150200"),
("1 Thessalonians 2:12","2.0761225047710600","1.9321101616086100"),
("Acts 20:35","2.0358702898545200","1.892201037463770"),
("1 Timothy 2:9","2.0746091428562100","1.9331839536378900"),
("Acts 13:21","2.0762400332439200","1.935105544006740"),
("Acts 28:21","2.0562334028477900","1.9157321182791300"),
("Revelation 21:9","2.0810260331732800","1.9412867934698900"),
("Acts 17:29","2.132216083522020","1.9925558083078100"),
("Romans 14:5","2.0507109982358100","1.9123948985822200"),
("Luke 1:26","2.0214580139811500","1.8831721318330400"),
("Acts 27:41","2.1121138811990000","1.9750826998994200"),
("James 1:1","2.122138993255710","1.9863616845847900"),
("Romans 10:18","2.0608897731914600","1.9278316170349100"),
("John 19:14","2.0394685081262200","1.9072996526486600"),
("Matthew 27:32","2.03259512326416","1.9012235510938800"),
("Acts 3:1","2.087360315298730","1.9564025079364200"),
("2 Thessalonians 3:15","2.014178083644950","1.8833414182847800"),
("Hebrews 13:21","2.0124447027909900","1.8816559679225600"),
("John 4:20","2.0512147994932500","1.9207426137885300"),
("Romans 16:25","2.1140685085292000","1.9845964840443600"),
("John 12:12","2.0655542944300800","1.936627251615060"),
("Acts 10:46","2.034084988835560","1.9071578913940800"),
("Acts 8:13","2.0595333261223300","1.9342540191932400"),
("Luke 21:13","2.027634086221800","1.90301886458344"),
("2 Corinthians 7:16","2.0402431028118500","1.9157630936863900"),
("Galatians 4:22","2.091830528897820","1.9674986190883500"),
("Acts 13:46","2.1105637983043500","1.9890059270198600"),
("Galatians 6:6","2.0467513263163600","1.9264224317128700"),
("Acts 9:15","2.0138391523954700","1.8949716106597100"),
("Mark 8:10","2.030108784169000","1.9123855884814700"),
("Mark 16:1","2.03598916509339","1.91860576735171"),
("2 Corinthians 6:3","2.0752955494598300","1.9595996066357400"),
("Acts 19:37","2.07774351671112","1.9624313455349700"),
("Revelation 21:15","2.092904686288980","1.978722489345560"),
("Acts 19:10","2.066093147089870","1.9523597985397600"),
("Acts 3:23","2.0994876435965100","1.9861070997691800"),
("Hebrews 11:9","2.084127204577110","1.9709478756034900"),
("John 5:13","2.0997290854550100","1.986934200334080"),
("Acts 2:7","2.001393604364240","1.8890113979390800"),
("Acts 11:14","2.0763425110605600","1.9644971284051600"),
("James 3:14","2.09694097266899","1.985116533288300"),
("John 19:42","2.0127857579248000","1.9012307355104400"),
("James 3:5","2.016306329823430","1.9056604863688000"),
("2 Corinthians 6:16","2.056114289842350","1.945576867934900"),
("Luke 1:18","2.0824931252695100","1.972053782118270"),
("Luke 9:9","2.0273141144548600","1.9184938162293700"),
("John 11:35","2.0634954618013900","1.9553099403039700"),
("Matthew 4:10","2.0959349595289600","1.9879550849293200"),
("John 10:12","2.093517703300920","1.9856774292273600"),
("1 Corinthians 10:10","2.0655144859103400","1.9576829319347500"),
("1 Corinthians 6:9","2.0026935566178900","1.8979274072454900"),
("Matthew 25:32","2.0486016050758800","1.944269283479740"),
("Hebrews 11:40","2.003857705706780","1.9007689005870000"),
("Romans 16:13","2.0010844000724300","1.8988382442671200"),
("Luke 6:13","2.0781265064988700","1.9763834294319200"),
("Colossians 3:6","2.0786237574141100","1.9771729050421100"),
("James 1:22","2.0793927863717200","1.9783312572142200"),
("Luke 12:32","2.05646683600676","1.9554091564497300"),
("Mark 15:26","2.0825985441081700","1.9820264071034000"),
("Romans 9:19","2.093976441899580","1.9934315443412300"),
("Luke 24:39","2.0823249854941000","1.9820542310676300"),
("Matthew 3:12","2.0342280884940200","1.9343709470341300"),
("Luke 14:7","2.006306279117230","1.9066549867359300"),
("Hebrews 4:12","2.0517608489902300","1.9525659611295500"),
("Hebrews 9:9","2.021530805782730","1.9227741279640900"),
("Galatians 2:1","2.036901906326050","1.9400669201359400"),
("2 Thessalonians 2:6","2.0280389960930600","1.931249190905150"),
("Luke 7:26","2.0116507715136300","1.9152410527702700"),
("2 Peter 1:14","2.0496308480792500","1.9569954750951000"),
("Revelation 9:10","2.016857902485200","1.9250473187427000"),
("Matthew 3:1","2.0729532217102200","1.9814472699090500"),
("Matthew 27:42","2.0266766002667600","1.9356773547383100"),
("Philippians 1:16","2.015164732481710","1.9244207341325800"),
("John 8:14","2.060895713807460","1.9728637377755900"),
("Luke 1:73","2.0423288941274700","1.9546964200935500"),
("Mark 9:29","2.053974547025890","1.9675694288801500"),
("John 10:39","2.063423198759740","1.9775515375705600"),
("Hebrews 9:16","2.0504461990005300","1.965478707565410"),
("Acts 11:12","2.005855235126750","1.922462709167430"),
("John 13:29","2.0047416622573900","1.9220685925473500"),
("Acts 15:25","2.024789600388760","1.9438780609985400"),
("Luke 11:52","2.050636392930540","1.9704814920633900"),
("Matthew 22:36","2.05066313625422","1.9709004621183600"),
("Luke 15:20","2.0688494171420000","1.9899521294806700"),
("Matthew 26:65","2.0411067960488300","1.9623867361393400"),
("1 Peter 1:13","2.028992016906600","1.9514060328943600"),
("Acts 24:1","2.0452858964319900","1.9679821012534100"),
("Romans 9:32","2.0762057866846000","1.9993642487764300"),
("1 Timothy 1:13","2.074654342329780","1.9984391747337400"),
("John 21:4","2.075144756051130","1.9995960062678400"),
("Acts 20:23","2.0067239166665100","1.9314492093652900"),
("Acts 2:38","2.0371837370406600","1.9631626194280300"),
("2 Peter 3:12","2.064156909889290","1.9904945790810100"),
("Hebrews 11:29","2.0552063527755600","1.9842032560586900"),
("Luke 10:37","2.0559295434421700","1.9854930636495900"),
("Luke 2:23","2.0075996772197200","1.9375143924983700"),
("Romans 11:36","2.0557689743512200","1.9860557755805700"),
("Mark 9:20","2.068615315635610","1.9994530122601700"),
("2 Peter 2:15","2.020645683338450","1.9516053070782300"),
("Luke 1:48","2.018587907318620","1.9509595084481000"),
("Acts 18:17","2.0409362695634200","1.9734300488172200"),
("Revelation 5:2","2.019363179333850","1.9521787196261500"),
("Acts 2:29","2.054630071497200","1.9887098701728900"),
("Hebrews 10:34","2.0138507327303900","1.951588719314390"),
("Luke 7:49","2.0449634482548700","1.9859434092014100"),
("Luke 18:14","2.02937785436861","1.9717757882928900"),
("Acts 9:16","2.0508133820719700","1.9936576606042300"),
("James 3:11","2.03773657070976","1.9807411460235100"),
("Hebrews 12:6","2.0252661009315200","1.968732542071240"),
("Matthew 10:26","2.0100756041222200","1.9536034018823800"),
("Luke 3:2","2.041995821673170","1.985829332334780"),
("John 9:6","2.0368061222815800","1.9812481366819000"),
("Hebrews 10:7","2.0460040522127400","1.9950894782246100"),
("Romans 9:23","2.0366308928035100","1.9880956011376700"),
("Acts 18:27","2.0194046755916200","1.976947417017610"),
("2 Corinthians 9:9","2.0182916097240800","1.9758907553228000"),
("2 Corinthians 2:5","2.0290067076573200","1.9874260385816300"),
("Philippians 2:26","2.0178357601398400","1.9768812807275600"),
("Hebrews 3:10","2.010275046069430","1.9696927001624300"),
("Luke 24:34","2.009240862964380","1.9695173118655400"),
("Philippians 1:3","2.018106704253650","1.9789687633971000"),
("2 Thessalonians 3:1","2.0123589783115600","1.9771093694095000"),
("1 Thessalonians 5:25","2.0170450029693200","1.9832246822802300"),
("Acts 4:13","2.024916199654380","1.9913959644277100"),
("Acts 2:2","2.0121361732614300","1.9826532145517100"),
("1 Peter 1:1","2.0190980421796400","1.9915830412062100"),
("John 1:11","2.015390826011520","1.9905318259201800"),
("Acts 22:19","2.000632129041130","1.9762148426668600"),
("Matthew 27:46","2.017453680145730","1.995645350578490"),
("John 2:10","2.0199979063883400","1.9984536012447800"),
("Philippians 3:6","2.006027364900570","1.9859147683510500"),
("1 John 3:1","2.00707321512941","1.9895336672606800"),]

v2_scores = {}
v3_scores = {}
v3_new_jsons = {}
verse_refs = []

v3_md_folder = 'bht gen 3'
v3_json_folder = 'bht gen 3 json'
choicest_prompt = "choicest prompt v0.4"
bht_prompt = "bht prompt v0.8"

def get_v3_from_json(verse_ref):
    b, c, v = get_book_chapter_verse(verse_ref)
    json_path = f'{v3_json_folder}/{b}/Chapter {c}/{b} {c} {v} bht.json'
    score = json.load(open(json_path))["bestBHT"]["qualityScore"]
    return score

improvements = []

verses_to_run = []

i = 0
total = len(verses_and_scores)
for vr, v2, v3 in verses_and_scores:
    i += 1
    v2 = float(v2)
    v3 = float(v3) 
    # get v3 from bht gen 3 json.
    # v3 = get_v3_from_json(vr)

    verse_refs.append(vr)
    v2_scores[vr] = v2
    v3_scores[vr] = v3

    if v3 - 2 >= -0.001:
        print(f"Skipping {i}/{total} {vr} because v3 is good enough. v2={round(v2, 2)} v3={round(v3, 2)}")
        continue

    verses_to_run.append(vr)

# bht_generator = BHTGenerator()
# bht_generator.generate_bhts(verses_to_run, [choicest_prompt], [bht_prompt], COMMENTATORS, redo_choicest=not TEST_SCRIPT, redo_bht=not TEST_SCRIPT, debug=False)

for vr in verses_to_run:
    b, c, v = get_book_chapter_verse(vr)

    json_result = json.load(open(get_bht_json_path(choicest_prompt, bht_prompt, b, c, v)))

    v3_new_jsons[vr] = json_result

    v3_new_score = float(json_result["bestBHT"]["qualityScore"])

    print(f"V3 rerun done. v2={round(v2, 2)} v3={round(v3, 2)} v3_new={round(v3_new_score, 2)} Improvement={round(v3_new_score-v3, 2)}")

    if (v3_new_score - v3) > 0.01:
        
        json_source_path = get_bht_json_path(choicest_prompt, bht_prompt, b, c, v)
        json_dest_path = f'{v3_json_folder}/{b}/Chapter {c}/{b} {c} {v} bht.json'

        md_source_path = get_bht_md_path(choicest_prompt, bht_prompt, b, c, v)
        md_dest_path = f'{v3_md_folder}/{b}/Chapter {c}/{b} {c} {v} bht.md'

        print(f"Copying {json_source_path} to {json_dest_path}.")
        print(f"Copying {md_source_path} to {md_dest_path}.")
        print("Ok? ")

        if not TEST_SCRIPT:
            copy_file(json_source_path, json_dest_path)
            copy_file(md_source_path, md_dest_path)

            print("Done.")
        
        improvements.append(v3_new_score - v3)

    print()


print()
print("[SUMMARY]")
print(f"- {len(verses_and_scores)} total verses.")
print(f"- {len(improvements)} verses improved and copied.")
print(f"- Average improvement: {0 if not improvements else statistics.mean(improvements)}")